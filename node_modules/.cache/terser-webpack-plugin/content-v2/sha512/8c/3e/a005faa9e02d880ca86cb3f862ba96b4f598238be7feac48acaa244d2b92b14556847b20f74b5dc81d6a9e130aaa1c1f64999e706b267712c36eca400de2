{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"toFormData\",function(){return u});var a=n(5),r=n(6);let i=0;const o={START_BOUNDARY:i++,HEADER_FIELD_START:i++,HEADER_FIELD:i++,HEADER_VALUE_START:i++,HEADER_VALUE:i++,HEADER_VALUE_ALMOST_DONE:i++,HEADERS_ALMOST_DONE:i++,PART_DATA_START:i++,PART_DATA:i++,END:i++};let s=1;const A={PART_BOUNDARY:s,LAST_BOUNDARY:s*=2},d=10,E=13,D=32,h=45,l=58,T=97,_=122,c=e=>32|e,R=()=>{};class f{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=R,this.onHeaderField=R,this.onHeadersEnd=R,this.onHeaderValue=R,this.onPartBegin=R,this.onPartData=R,this.onPartEnd=R,this.boundaryChars={},e=\"\\r\\n--\"+e;const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n),this.boundaryChars[t[n]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=o.START_BOUNDARY}write(e){let t=0;const n=e.length;let a=this.index,{lookbehind:r,boundary:i,boundaryChars:s,index:R,state:f,flags:u}=this;const H=this.boundary.length,b=H-1,L=e.length;let S,P;const O=e=>{this[e+\"Mark\"]=t},w=e=>{delete this[e+\"Mark\"]},U=(e,t,n,a)=>{void 0!==t&&t===n||this[e](a&&a.subarray(t,n))},g=(n,a)=>{const r=n+\"Mark\";r in this&&(a?(U(n,this[r],t,e),delete this[r]):(U(n,this[r],e.length,e),this[r]=0))};for(t=0;t<n;t++)switch(S=e[t],f){case o.START_BOUNDARY:if(R===i.length-2){if(S===h)u|=A.LAST_BOUNDARY;else if(S!==E)return;R++;break}if(R-1==i.length-2){if(u&A.LAST_BOUNDARY&&S===h)f=o.END,u=0;else{if(u&A.LAST_BOUNDARY||S!==d)return;R=0,U(\"onPartBegin\"),f=o.HEADER_FIELD_START}break}S!==i[R+2]&&(R=-2),S===i[R+2]&&R++;break;case o.HEADER_FIELD_START:f=o.HEADER_FIELD,O(\"onHeaderField\"),R=0;case o.HEADER_FIELD:if(S===E){w(\"onHeaderField\"),f=o.HEADERS_ALMOST_DONE;break}if(R++,S===h)break;if(S===l){if(1===R)return;g(\"onHeaderField\",!0),f=o.HEADER_VALUE_START;break}if((P=c(S))<T||P>_)return;break;case o.HEADER_VALUE_START:if(S===D)break;O(\"onHeaderValue\"),f=o.HEADER_VALUE;case o.HEADER_VALUE:S===E&&(g(\"onHeaderValue\",!0),U(\"onHeaderEnd\"),f=o.HEADER_VALUE_ALMOST_DONE);break;case o.HEADER_VALUE_ALMOST_DONE:if(S!==d)return;f=o.HEADER_FIELD_START;break;case o.HEADERS_ALMOST_DONE:if(S!==d)return;U(\"onHeadersEnd\"),f=o.PART_DATA_START;break;case o.PART_DATA_START:f=o.PART_DATA,O(\"onPartData\");case o.PART_DATA:if(a=R,0===R){for(t+=b;t<L&&!(e[t]in s);)t+=H;S=e[t-=b]}if(R<i.length)i[R]===S?(0===R&&g(\"onPartData\",!0),R++):R=0;else if(R===i.length)R++,S===E?u|=A.PART_BOUNDARY:S===h?u|=A.LAST_BOUNDARY:R=0;else if(R-1===i.length)if(u&A.PART_BOUNDARY){if(R=0,S===d){u&=~A.PART_BOUNDARY,U(\"onPartEnd\"),U(\"onPartBegin\"),f=o.HEADER_FIELD_START;break}}else u&A.LAST_BOUNDARY&&S===h?(U(\"onPartEnd\"),f=o.END,u=0):R=0;if(R>0)r[R-1]=S;else if(a>0){const e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);U(\"onPartData\",0,a,e),a=0,O(\"onPartData\"),t--}break;case o.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}g(\"onHeaderField\"),g(\"onHeaderValue\"),g(\"onPartData\"),this.index=R,this.state=f,this.flags=u}end(){if(this.state===o.HEADER_FIELD_START&&0===this.index||this.state===o.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==o.END)throw new Error(\"MultipartParser.end(): stream ended unexpectedly\")}}async function u(e,t){if(!/multipart/i.test(t))throw new TypeError(\"Failed to fetch\");const n=t.match(/boundary=(?:\"([^\"]+)\"|([^;]+))/i);if(!n)throw new TypeError(\"no or bad content-type header, no multipart boundary\");const i=new f(n[1]||n[2]);let o,s,A,d,E,D;const h=[],l=new r.FormData,T=e=>{A+=u.decode(e,{stream:!0})},_=e=>{h.push(e)},c=()=>{const e=new a.File(h,D,{type:E});l.append(d,e)},R=()=>{l.append(d,A)},u=new TextDecoder(\"utf-8\");u.decode(),i.onPartBegin=function(){i.onPartData=T,i.onPartEnd=R,o=\"\",s=\"\",A=\"\",d=\"\",E=\"\",D=null,h.length=0},i.onHeaderField=function(e){o+=u.decode(e,{stream:!0})},i.onHeaderValue=function(e){s+=u.decode(e,{stream:!0})},i.onHeaderEnd=function(){if(s+=u.decode(),\"content-disposition\"===(o=o.toLowerCase())){const e=s.match(/\\bname=(\"([^\"]*)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))/i);e&&(d=e[2]||e[3]||\"\"),(D=function(e){const t=e.match(/\\bfilename=(\"(.*?)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))($|;\\s)/i);if(!t)return;const n=t[2]||t[3]||\"\";let a=n.slice(n.lastIndexOf(\"\\\\\")+1);return a=(a=a.replace(/%22/g,'\"')).replace(/&#(\\d{4});/g,(e,t)=>String.fromCharCode(t))}(s))&&(i.onPartData=_,i.onPartEnd=c)}else\"content-type\"===o&&(E=s);s=\"\",o=\"\"};for await(const t of e)i.write(t);return i.end(),l}}}]);","extractedComments":[]}